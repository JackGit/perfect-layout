(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.perfectLayout = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(r){return r&&r.__esModule?r:{"default":r}}function perfectLayout(r,t,e,n){n=n||{},n.margin=n.hasOwnProperty("margin")?n.margin:0;var a=_perfectRowsNumber(r,t,e),i=parseInt(e/2,10);if(1>a)return r.map(function(r){return{data:r.data,src:r.src,width:parseInt(i*r.ratio)-2*n.margin,height:i}});var o=function(){var e=r.map(function(r){return parseInt(100*r.ratio,10)}),i=(0,_libBreakpointPartitionJs2["default"])(e,a),o=0;return{v:i.map(function(e){var a=e.reduce(function(t,e,n){return t+r[o+n].ratio},0);return e.map(function(){var e=r[o++];return{data:e.data,src:e.src,width:parseInt(t/a*e.ratio,10)-2*n.margin,height:parseInt(t/a,10)}})})}}();return"object"==typeof o?o.v:void 0}function _perfectRowsNumber(r,t,e){var n=parseInt(e/2,10),a=r.reduce(function(r,t){return r+t.ratio*n},0);return Math.round(a/t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=perfectLayout;var _libBreakpointPartitionJs=require("./lib/BreakpointPartition.js"),_libBreakpointPartitionJs2=_interopRequireDefault(_libBreakpointPartitionJs);module.exports=exports["default"];

},{"./lib/BreakpointPartition.js":3}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _=require("."),_2=_interopRequireDefault(_);$.fn.perfectLayout=function(e){var t=this,i=$("html").hasClass("touch")?0:15,r=(0,_2["default"])(e,window.innerWidth-i,$(window).height());t.empty(),r.forEach(function(e){e.forEach(function(e){var i=$('<div style="float: left;" class="image"></div>');i.css({width:e.width+"px",height:e.height+"px",background:"url("+e.src+")","background-size":"cover"}),t.append(i)})})};

},{".":1}],3:[function(require,module,exports){
"use strict";function BreakpointPartition(t,r){if(t.length<=1)return[t];if(r>=t.length)return t.map(function(t){return[t]});var n=findLayoutWidth(t,r),e=0;return t.reduce(function(t,r){return sum(t[e])+r>n&&e++,t[e].push(r),t},new Array(r).join().split(",").map(function(){return[]}))}function findLayoutWidth(t,r){for(var n=sum(t)/r,e=max(t),o=max([n,e]),u=getLayoutDetails(t,o);u.rowCount>r;)o+=u.nextBreakpoint,u=getLayoutDetails(t,o);return o}function getLayoutDetails(t,r){var n={currentRowWidth:0,rowCount:1,nextBreakpoint:Math.min.apply(null,t)},e=t.reduce(function(t,n){var e=t.currentRowWidth+n;return e>r&&(nextBreakpointForCurrentRow=t.currentRowWidth-r,nextBreakpointForCurrentRow<t.nextBreakpoint&&(t.nextBreakpoint=nextBreakpointForCurrentRow),t.rowCount+=1,t.currentRowWidth=n),t},n);return{rowCount:e.rowCount,nextBreakpoint:e.nextBreakpoint}}function sum(t){return t.reduce(function(t,r){return t+r},0)}function max(t){return t.reduce(function(t,r){return r>t?r:t},0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=BreakpointPartition,module.exports=exports["default"];

},{}]},{},[1])(1)
});
